import{q as s,u as e,n as t,o as a,e as o,w as l,i,b as n,l as r,d as c,f as u,I as d,h as p}from"./index-5a67ab25.js";import{_ as g}from"./logo-light.4630de23.js";import{_ as f,a as h,b as m}from"./apple-logo-raw.a5aa7133.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const _=w({data:()=>({user:{usernameOrPhone:"",password:""},passwordVisible:!1}),onLoad(){console.log("密码状态",this.passwordVisible)},methods:{togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible,console.log("密码状态",this.passwordVisible)},async onSubmit(t){0!=this.user.usernameOrPhone.length&&0!=this.user.password?this.$service.post("/user-service/api/auth/login",{usernameOrPhone:this.user.usernameOrPhone,password:this.user.password}).then((t=>{if(console.log("登录信息：",t),1==t.data.isSuccess){var a=t.data.data.token;e("token",a),s({title:"登录成功！",icon:"success"}),this.getUserInfo(),this.$router.push("../basefunction/basefunction")}else s({title:t.data.message,icon:"none",duration:2e3})})).catch((e=>{console.log(e),s({title:"网络错误",icon:"none",duration:2e3})})):s({title:"输入的手机号或密码不能为空！",icon:"error",position:"top"})},async getUserInfo(){try{const s=await this.$service.get("/user-service/api/user");if(console.log("响应信息：",s),1==s.data.isSuccess){const t=s.data.data;e("userdata",JSON.stringify(t)),console.log("用户信息",t)}}catch(s){console.error("请求出错",s)}},goTores(){console.log("到注册页面"),t({url:"../register/register"})}}},[["render",function(s,e,t,w,_,y){const b=i,x=u,V=d,v=p;return a(),o(b,{class:"page"},{default:l((()=>[n(b,{class:"up-section"},{default:l((()=>[n(b,{class:"up-section-text"},{default:l((()=>[n(b,{class:"up-section-text-big"},{default:l((()=>[r("p",{class:"big-p"},"您好！"),r("p",{class:"big-p"},"欢迎来到儒升")])),_:1}),n(b,{class:"up-section-text-small"},{default:l((()=>[c(" 第一代数字化知识交互学习软件(鸿蒙版) ")])),_:1})])),_:1}),n(b,{class:"logo-section"},{default:l((()=>[n(x,{style:{height:"48vw"},src:g,alt:"",mode:"aspectFit"})])),_:1})])),_:1}),n(b,{class:"down-section"},{default:l((()=>[n(b,{class:"input-section"},{default:l((()=>[n(b,{class:"phone-num"},{default:l((()=>[n(b,{style:{"font-size":"20px","font-weight":"600"}},{default:l((()=>[c(" 手机号 ")])),_:1}),n(b,{class:"uni-input1"},{default:l((()=>[n(V,{type:"text",style:{"margin-left":"7%"},placeholder:"请输入您的手机号或用户名",modelValue:_.user.usernameOrPhone,"onUpdate:modelValue":e[0]||(e[0]=s=>_.user.usernameOrPhone=s)},null,8,["modelValue"])])),_:1})])),_:1}),n(b,{class:"pin-code"},{default:l((()=>[n(b,{style:{"font-size":"20px","font-weight":"600"}},{default:l((()=>[c(" 密码 ")])),_:1}),n(b,{class:"uni-input2"},{default:l((()=>[n(V,{password:!_.passwordVisible,style:{"margin-left":"7%"},focus:"",placeholder:"请输入您的密码",modelValue:_.user.password,"onUpdate:modelValue":e[1]||(e[1]=s=>_.user.password=s)},null,8,["password","modelValue"]),n(b,{style:{"flex-grow":"1",display:"flex","justify-content":"flex-end"}},{default:l((()=>[n(x,{style:{height:"18px",width:"18px",right:"20%"},onClick:y.togglePasswordVisibility,src:_.passwordVisible?"../../static/image/symple/pin-visible.png":"../../static/image/symple/pin-invisible.png",mode:"aspectFit"},null,8,["onClick","src"])])),_:1})])),_:1}),n(b,{class:"forget-pin",onClick:e[2]||(e[2]=e=>s.goTo())},{default:l((()=>[c("忘记密码?")])),_:1})])),_:1}),n(b,{class:"button-section"},{default:l((()=>[n(b,{class:"sign-in"},{default:l((()=>[n(v,{class:"bt-sign-in",onClick:y.onSubmit},{default:l((()=>[c("登录")])),_:1},8,["onClick"])])),_:1}),n(b,{class:"sign-up"},{default:l((()=>[n(v,{class:"bt-sign-up",onClick:e[3]||(e[3]=s=>y.goTores())},{default:l((()=>[c("注册")])),_:1})])),_:1})])),_:1}),n(b,{class:"otherway-sign-in"},{default:l((()=>[n(b,{class:"other-way"},{default:l((()=>[n(b,{class:"other-way-img"},{default:l((()=>[n(x,{style:{height:"25px",width:"25px"},src:f,mode:"aspectFit"})])),_:1}),n(b,{class:"other-way-img"},{default:l((()=>[n(x,{style:{height:"24px",width:"24px"},src:h,mode:"aspectFit"})])),_:1}),n(b,{class:"other-way-img"},{default:l((()=>[n(x,{style:{height:"22px",width:"22px","margin-top":"-5px"},src:m,mode:"aspectFit"})])),_:1})])),_:1}),n(b,{class:"split-line"},{default:l((()=>[c(" — 其他登录方式 — ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-4e147c62"]]);export{_ as default};
