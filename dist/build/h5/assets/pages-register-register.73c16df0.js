import{s as e,o as s,c as t,w as a,i as o,a as l,b as i,d as n,g as u,I as r,f as c}from"./index-af9b1db0.js";import{_ as p,a as d}from"./pin-visualable.e9af77ee.js";import{_ as h,a as f,b as m}from"./apple-logo-raw.a5aa7133.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const _=g({data:()=>({user:{username:"",password:"",vercode:"",phonenum:""},phoneIstrue:0}),methods:{registOnSubmit(){const s={username:this.user.username,password:this.user.password,code:this.user.vercode,phone:this.user.phonenum};s.username&&s.password&&s.code&&s.phone&&(this.isPhone(this.user.phonenum),0!=this.phoneIstrue?this.$axios.post("http://www.liuchen.work:280/user-service/api/auth/register",s).then((s=>{1==s.data.isSuccess?(e({title:"注册成功",icon:"success",duration:2e3}),this.$router.push("../basefunction/basefunction")):e({title:"注册失败: "+s.data.message,icon:"none",duration:2e3})})).catch((s=>{e({title:"请求错误",icon:"none",duration:2e3}),console.error("注册请求失败:",s)})):e({title:"请输入正确的手机号！",icon:"error",position:"top"}))},isPhone(e){11==e.length?/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(e)?(this.phoneIstrue=1,console.log("电话号码输入正确！")):(this.phoneIstrue=0,console.log("电话号码输入错误！")):(console.log("电话号码输入错误！"),this.phoneIstrue=0)},async getVercode(){try{if(this.isPhone(this.user.phonenum),0==this.phoneIstrue)return void e({title:"请输入正确的手机号！",icon:"error",position:"top"});1==(await this.$axios.post("http://www.liuchen.work:280/user-service/api/auth/sms",{phone:this.user.phonenum})).data.isSuccess?e({title:"验证码已发送",icon:"success",duration:2e3}):e({title:"发送失败",icon:"none",duration:2e3})}catch(s){console.log(s),e({title:"请求出错",icon:"none",duration:2e3})}}}},[["render",function(e,g,_,w,x,y){const V=o,b=u,v=r,I=c;return s(),t(V,{class:"page"},{default:a((()=>[l(V,{class:"up-section"},{default:a((()=>[l(V,{class:"up-section-text"},{default:a((()=>[l(V,{class:"up-section-text-big"},{default:a((()=>[i("p",{class:"big-p"},"您好！"),i("p",{class:"big-p"},"欢迎来到儒升")])),_:1}),l(V,{class:"up-section-text-small"},{default:a((()=>[n(" 第一代数字化知识交互学习软件(鸿蒙版) ")])),_:1})])),_:1}),l(V,{class:"logo-section"},{default:a((()=>[l(b,{style:{height:"48vw"},src:p,alt:"",mode:"aspectFit"})])),_:1})])),_:1}),l(V,{class:"down-section"},{default:a((()=>[l(V,{class:"input-section"},{default:a((()=>[l(V,{class:"user-name"},{default:a((()=>[l(V,{style:{"font-size":"20px","font-weight":"600"}},{default:a((()=>[n(" 用户名 ")])),_:1}),l(V,{class:"uni-input1"},{default:a((()=>[l(v,{style:{"margin-left":"7%"},focus:"",placeholder:"请输入您的用户名",modelValue:x.user.username,"onUpdate:modelValue":g[0]||(g[0]=e=>x.user.username=e)},null,8,["modelValue"])])),_:1})])),_:1}),l(V,{class:"pass-word"},{default:a((()=>[l(V,{style:{"margin-top":"15px","font-size":"20px","font-weight":"600"}},{default:a((()=>[n(" 密码 ")])),_:1}),l(V,{class:"uni-input2"},{default:a((()=>[l(v,{type:"safe-password",style:{"margin-left":"7%"},placeholder:"请输入您的密码",modelValue:x.user.password,"onUpdate:modelValue":g[1]||(g[1]=e=>x.user.password=e)},null,8,["modelValue"]),l(V,{style:{"flex-grow":"1",display:"flex","justify-content":"flex-end"}},{default:a((()=>[l(b,{style:{height:"18px",width:"18px",right:"20%"},src:d,mode:"aspectFit"})])),_:1})])),_:1})])),_:1}),l(V,{class:"phone-num"},{default:a((()=>[l(V,{style:{"margin-top":"15px","font-size":"20px","font-weight":"600"}},{default:a((()=>[n(" 验证码 ")])),_:1}),l(V,{class:"uni-input3"},{default:a((()=>[l(v,{type:"tel",style:{"margin-left":"7%"},placeholder:"请输入您的手机号",modelValue:x.user.phonenum,"onUpdate:modelValue":g[2]||(g[2]=e=>x.user.phonenum=e)},null,8,["modelValue"]),l(I,{class:"get-verification-code",onClick:y.getVercode},{default:a((()=>[n("获取验证码")])),_:1},8,["onClick"])])),_:1})])),_:1}),l(V,{class:"verification-ensure"},{default:a((()=>[l(V,{class:"uni-input4"},{default:a((()=>[l(v,{style:{"margin-left":"7%"},placeholder:"请输入验证码",modelValue:x.user.vercode,"onUpdate:modelValue":g[3]||(g[3]=e=>x.user.vercode=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),l(V,{class:"button-section"},{default:a((()=>[l(V,{class:"sign-up"},{default:a((()=>[l(I,{class:"bt-sign-up",onClick:y.registOnSubmit},{default:a((()=>[n("注册")])),_:1},8,["onClick"])])),_:1})])),_:1}),l(V,{class:"otherway-sign-up"},{default:a((()=>[l(V,{class:"other-way"},{default:a((()=>[l(V,{class:"other-way-img"},{default:a((()=>[l(b,{style:{height:"25px",width:"25px"},src:h,mode:"aspectFit"})])),_:1}),l(V,{class:"other-way-img"},{default:a((()=>[l(b,{style:{height:"24px",width:"24px"},src:f,mode:"aspectFit"})])),_:1}),l(V,{class:"other-way-img"},{default:a((()=>[l(b,{style:{height:"22px",width:"22px","margin-top":"-5px"},src:m,mode:"aspectFit"})])),_:1})])),_:1}),l(V,{class:"split-line"},{default:a((()=>[n(" — 其他注册方式 — ")])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-066ef0aa"]]);export{_ as default};
